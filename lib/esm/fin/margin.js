import { BigNumber } from "@ethersproject/bignumber";
import { defaultPosition as defaultPositionMarket, fetchPosition as fetchPositionMarket, Position as PositionMarket } from "../usk";
import { castOrder } from "./client";
export { defaultPositionMarket, fetchPositionMarket, PositionMarket };
const castPositionLimit = (denoms)=>(p)=>({
            idx: p.idx,
            owner: p.owner,
            margin_amount: BigNumber.from(p.margin_amount),
            mint_amount: BigNumber.from(p.mint_amount),
            interest_amount: BigNumber.from(p.interest_amount),
            liquidation_price: p.liquidation_price ? parseFloat(p.liquidation_price) : null,
            order: castOrder(denoms)(p.order)
        });
export const fetchPositionLimit = (queryClient, address, idx, denoms)=>queryClient.wasm.queryContractSmart(address, {
        position: {
            idx
        }
    }).then(castPositionLimit(denoms));
export const fetchPositionsLimit = (queryClient, address, account, denoms)=>queryClient.wasm.queryContractSmart(address, {
        positions: {
            owner: account.address
        }
    }).then((xs)=>xs.positions.map(castPositionLimit(denoms)));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9maW4vbWFyZ2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjY291bnREYXRhIH0gZnJvbSBcIkBjb3NtanMvcHJvdG8tc2lnbmluZ1wiO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2JpZ251bWJlclwiO1xuaW1wb3J0IHsgRGVub20gfSBmcm9tIFwiLi4vZGVub21cIjtcbmltcG9ydCB7IEt1amlyYVF1ZXJ5Q2xpZW50IH0gZnJvbSBcIi4uL3F1ZXJ5Q2xpZW50XCI7XG5pbXBvcnQge1xuICBkZWZhdWx0UG9zaXRpb24gYXMgZGVmYXVsdFBvc2l0aW9uTWFya2V0LFxuICBmZXRjaFBvc2l0aW9uIGFzIGZldGNoUG9zaXRpb25NYXJrZXQsXG4gIFBvc2l0aW9uIGFzIFBvc2l0aW9uTWFya2V0LFxufSBmcm9tIFwiLi4vdXNrXCI7XG5pbXBvcnQgeyBjYXN0T3JkZXIgfSBmcm9tIFwiLi9jbGllbnRcIjtcbmltcG9ydCB7IE9yZGVyLCBPcmRlclJlc3BvbnNlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IHsgZGVmYXVsdFBvc2l0aW9uTWFya2V0LCBmZXRjaFBvc2l0aW9uTWFya2V0LCBQb3NpdGlvbk1hcmtldCB9O1xuXG50eXBlIFBvc2l0aW9uTGltaXRSZXNwb25zZSA9IHtcbiAgaWR4OiBzdHJpbmc7XG4gIG93bmVyOiBzdHJpbmc7XG4gIGRlcG9zaXRfYW1vdW50OiBzdHJpbmc7XG4gIG1hcmdpbl9hbW91bnQ6IHN0cmluZztcbiAgbWludF9hbW91bnQ6IHN0cmluZztcbiAgaW50ZXJlc3RfYW1vdW50OiBzdHJpbmc7XG4gIGxpcXVpZGF0aW9uX3ByaWNlOiBzdHJpbmcgfCBudWxsO1xuICBvcmRlcjogT3JkZXJSZXNwb25zZTtcbn07XG5cbmV4cG9ydCB0eXBlIFBvc2l0aW9uTGltaXQgPSB7XG4gIGlkeDogc3RyaW5nO1xuICBvd25lcjogc3RyaW5nO1xuICBtYXJnaW5fYW1vdW50OiBCaWdOdW1iZXI7XG4gIG1pbnRfYW1vdW50OiBCaWdOdW1iZXI7XG4gIGludGVyZXN0X2Ftb3VudDogQmlnTnVtYmVyO1xuICBsaXF1aWRhdGlvbl9wcmljZTogbnVtYmVyIHwgbnVsbDtcbiAgb3JkZXI6IE9yZGVyO1xufTtcblxuY29uc3QgY2FzdFBvc2l0aW9uTGltaXQgPVxuICAoZGVub21zOiBbRGVub20sIERlbm9tXSkgPT5cbiAgKHA6IFBvc2l0aW9uTGltaXRSZXNwb25zZSk6IFBvc2l0aW9uTGltaXQgPT4gKHtcbiAgICBpZHg6IHAuaWR4LFxuICAgIG93bmVyOiBwLm93bmVyLFxuICAgIG1hcmdpbl9hbW91bnQ6IEJpZ051bWJlci5mcm9tKHAubWFyZ2luX2Ftb3VudCksXG4gICAgbWludF9hbW91bnQ6IEJpZ051bWJlci5mcm9tKHAubWludF9hbW91bnQpLFxuICAgIGludGVyZXN0X2Ftb3VudDogQmlnTnVtYmVyLmZyb20ocC5pbnRlcmVzdF9hbW91bnQpLFxuICAgIGxpcXVpZGF0aW9uX3ByaWNlOiBwLmxpcXVpZGF0aW9uX3ByaWNlXG4gICAgICA/IHBhcnNlRmxvYXQocC5saXF1aWRhdGlvbl9wcmljZSlcbiAgICAgIDogbnVsbCxcbiAgICBvcmRlcjogY2FzdE9yZGVyKGRlbm9tcykocC5vcmRlciksXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hQb3NpdGlvbkxpbWl0ID0gKFxuICBxdWVyeUNsaWVudDogS3VqaXJhUXVlcnlDbGllbnQsXG4gIGFkZHJlc3M6IHN0cmluZyxcbiAgaWR4OiBzdHJpbmcsXG4gIGRlbm9tczogW0Rlbm9tLCBEZW5vbV1cbik6IFByb21pc2U8UG9zaXRpb25MaW1pdD4gPT5cbiAgcXVlcnlDbGllbnQud2FzbVxuICAgIC5xdWVyeUNvbnRyYWN0U21hcnQoYWRkcmVzcywge1xuICAgICAgcG9zaXRpb246IHsgaWR4IH0sXG4gICAgfSlcbiAgICAudGhlbihjYXN0UG9zaXRpb25MaW1pdChkZW5vbXMpKTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUG9zaXRpb25zTGltaXQgPSAoXG4gIHF1ZXJ5Q2xpZW50OiBLdWppcmFRdWVyeUNsaWVudCxcbiAgYWRkcmVzczogc3RyaW5nLFxuICBhY2NvdW50OiBBY2NvdW50RGF0YSxcbiAgZGVub21zOiBbRGVub20sIERlbm9tXVxuKTogUHJvbWlzZTxQb3NpdGlvbkxpbWl0W10+ID0+XG4gIHF1ZXJ5Q2xpZW50Lndhc21cbiAgICAucXVlcnlDb250cmFjdFNtYXJ0KGFkZHJlc3MsIHtcbiAgICAgIHBvc2l0aW9uczogeyBvd25lcjogYWNjb3VudC5hZGRyZXNzIH0sXG4gICAgfSlcbiAgICAudGhlbigoeHM6IGFueSkgPT4geHMucG9zaXRpb25zLm1hcChjYXN0UG9zaXRpb25MaW1pdChkZW5vbXMpKSk7XG4iXSwibmFtZXMiOlsiQmlnTnVtYmVyIiwiZGVmYXVsdFBvc2l0aW9uIiwiZGVmYXVsdFBvc2l0aW9uTWFya2V0IiwiZmV0Y2hQb3NpdGlvbiIsImZldGNoUG9zaXRpb25NYXJrZXQiLCJQb3NpdGlvbiIsIlBvc2l0aW9uTWFya2V0IiwiY2FzdE9yZGVyIiwiY2FzdFBvc2l0aW9uTGltaXQiLCJkZW5vbXMiLCJwIiwiaWR4Iiwib3duZXIiLCJtYXJnaW5fYW1vdW50IiwiZnJvbSIsIm1pbnRfYW1vdW50IiwiaW50ZXJlc3RfYW1vdW50IiwibGlxdWlkYXRpb25fcHJpY2UiLCJwYXJzZUZsb2F0Iiwib3JkZXIiLCJmZXRjaFBvc2l0aW9uTGltaXQiLCJxdWVyeUNsaWVudCIsImFkZHJlc3MiLCJ3YXNtIiwicXVlcnlDb250cmFjdFNtYXJ0IiwicG9zaXRpb24iLCJ0aGVuIiwiZmV0Y2hQb3NpdGlvbnNMaW1pdCIsImFjY291bnQiLCJwb3NpdGlvbnMiLCJ4cyIsIm1hcCJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsU0FBUyxRQUFRLDJCQUEyQjtBQUdyRCxTQUNFQyxtQkFBbUJDLHFCQUFxQixFQUN4Q0MsaUJBQWlCQyxtQkFBbUIsRUFDcENDLFlBQVlDLGNBQWMsUUFDckIsU0FBUztBQUNoQixTQUFTQyxTQUFTLFFBQVEsV0FBVztBQUdyQyxTQUFTTCxxQkFBcUIsRUFBRUUsbUJBQW1CLEVBQUVFLGNBQWMsR0FBRztBQXVCdEUsTUFBTUUsb0JBQ0osQ0FBQ0MsU0FDRCxDQUFDQyxJQUE2QyxDQUFBO1lBQzVDQyxLQUFLRCxFQUFFQyxHQUFHO1lBQ1ZDLE9BQU9GLEVBQUVFLEtBQUs7WUFDZEMsZUFBZWIsVUFBVWMsSUFBSSxDQUFDSixFQUFFRyxhQUFhO1lBQzdDRSxhQUFhZixVQUFVYyxJQUFJLENBQUNKLEVBQUVLLFdBQVc7WUFDekNDLGlCQUFpQmhCLFVBQVVjLElBQUksQ0FBQ0osRUFBRU0sZUFBZTtZQUNqREMsbUJBQW1CUCxFQUFFTyxpQkFBaUIsR0FDbENDLFdBQVdSLEVBQUVPLGlCQUFpQixJQUM5QjtZQUNKRSxPQUFPWixVQUFVRSxRQUFRQyxFQUFFUyxLQUFLO1FBQ2xDLENBQUE7QUFFRixPQUFPLE1BQU1DLHFCQUFxQixDQUNoQ0MsYUFDQUMsU0FDQVgsS0FDQUYsU0FFQVksWUFBWUUsSUFBSSxDQUNiQyxrQkFBa0IsQ0FBQ0YsU0FBUztRQUMzQkcsVUFBVTtZQUFFZDtRQUFJO0lBQ2xCLEdBQ0NlLElBQUksQ0FBQ2xCLGtCQUFrQkMsU0FBUztBQUVyQyxPQUFPLE1BQU1rQixzQkFBc0IsQ0FDakNOLGFBQ0FDLFNBQ0FNLFNBQ0FuQixTQUVBWSxZQUFZRSxJQUFJLENBQ2JDLGtCQUFrQixDQUFDRixTQUFTO1FBQzNCTyxXQUFXO1lBQUVqQixPQUFPZ0IsUUFBUU4sT0FBTztRQUFDO0lBQ3RDLEdBQ0NJLElBQUksQ0FBQyxDQUFDSSxLQUFZQSxHQUFHRCxTQUFTLENBQUNFLEdBQUcsQ0FBQ3ZCLGtCQUFrQkMsVUFBVSJ9